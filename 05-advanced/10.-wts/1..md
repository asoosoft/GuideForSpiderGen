---
description: 업비트 거래소를연결하고, 모든 종목 데이터를 수신하여 표시하는 예제.
---

# 1. 거래소연결 및 종목정보 수신

### 1. 거래소 정보 등록

define.js 파일 생성후,  거래소 정보를 등록합니다.

<figure><img src="../../.gitbook/assets/image.png" alt=""><figcaption></figcaption></figure>

code:

```
var Define = {
    SERVER_ADDR_REST : 'https://api.upbit.com/v1/',
    SERVER_ADDR_WEBSOCKET : 'api.upbit.com/websocket/v1',
}    
```

### 2. Proxy Class 생성

업비트에 접속및, 데이터를 주고받는 클래스를 생성합니다.

#### sys framework 추가

<figure><img src="../../.gitbook/assets/image (2).png" alt=""><figcaption></figcaption></figure>

#### sys framework 에 NetworkIO.js , WebsokcetIO.js 를 기본으로 Load 되게  Check&#x20;

<figure><img src="../../.gitbook/assets/image (5).png" alt=""><figcaption></figcaption></figure>



#### UpbitProxy Class 생성 및 추가

Library 폴더에 UpbitProxy.js 를 추가하고 class 를 다음과같이 추가합니다.

<figure><img src="../../.gitbook/assets/image (6).png" alt=""><figcaption></figcaption></figure>

Code:

<pre class="language-javascript"><code class="lang-javascript">
<strong>class UpbitProxy 
</strong>{
    constructor()
    {
        this.symbolDataArr = [];
        this.socket = null;
    }

    // 업비트 접속
    connect()
    {
        this.socket = new WebsocketIO(this, true)
        this.socket.startIO(Define.SERVER_ADDR_WEBSOCKET)
    }

    async send(url)
    {
        try {
            const response = await fetch(`${Define.SERVER_ADDR_REST}${url}`);
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            const data = await response.json();            
            console.log(data);
            return data;
        } catch (error) {            
            throw error;
        }    
    }
}

</code></pre>

