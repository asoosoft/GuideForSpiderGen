# 03. SpiderGen 페이지 연결

이후 가이드에서는 스파이더젠을 플러터의 웹뷰에 출력할때 발생하는 CORS 정책을 우회하기 위해\
"**가상 도메인 매핑(Android)**" 방식과  "**로컬 서버 배포(Android/IOS)**" 방법 두 가지와 정적 리소스를 배포하는 웹 서버를 이미 갖추고 있다면 플러터에 스파이더젠 정적  리소스를 포함하지 않고 간단하게 외부 링크를 웹뷰에 출력하는 "**외부 도메인 연결(Android/IOS)"** 방법을 소개해드립니다.

> 가상 도메인 매핑과 로컬 서버 배포는 스파이더젠 앱을 로컬 저장소에 포함시켜 웹뷰에 출력합니다. (이 방식은 외부 도메인 연결 방식과 달리 오프라인 상태에서도 앱을 사용할 수 있습니다.)
>
> 로컬 저장소에서 파일 프로토콜(`file://`)로 웹  뷰를 불러오는 경우 CORS 문제가 발생해 번들 및 정적 리소스를 불러오지 못합니다.  \
> 그 이유는 **웹뷰가** `file://` **프로토콜을 "동일 출처"로 간주하지 않기 때문**입니다. \
> 즉, 동일한 루트 디렉터리에서 불러온 파일이라도 각각의 파일이 서로 다른 출처로 간주되어, `file://`에서 다른 하위 디렉터리의 리소스를 불러올때 보안 정책에 의해 차단될 수 있습니다.
>
> 반면 `http://` 프로토콜에서는 기본적으로 **동일한 도메인, 포트, 프로토콜을 가지면 "동일 출처"로 간주**되어 CORS 문제가 발생하지 않게 됩니다.

| 선택 기준   | 가상 도메인 매핑             | 로컬 서버 배포                  | 외부 도메인 연결           |
| ------- | --------------------- | ------------------------- | ------------------- |
| 플랫폼     | **Android 전용**        | **Android & iOS**         | **Android & iOS**   |
| 설정 난이도  | **어려움**               | **보통**                    | **쉬움**              |
| 네트워크 연결 | **불필요**               | **불필요**                   | **필요**              |
| 성능      | **매우 빠름(로컬에서 직접 처리)** | **보통(가상서버 네트워크 오버헤드 존재)** | **외부 서버 상태에 따라 다름** |

**👉 추천:**

* **Android만 지원하는 앱**이라면 `가상 도메인 매핑`이 적합
* **iOS까지 고려해야 한다면** `로컬 서버 배포` 방식이 유리
* **이미 웹서버를 배포 중**이라면 `외부도메인 연결`방식이 간단
