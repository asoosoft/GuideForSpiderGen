# ExHogaGrid

ExHogaGrid는 호가 데이터를 배열 또는 객체 형태로 입력하여 매도/매수 호가를 시각화하는 그리드 컴포넌트입니다.

***

### Attribute

#### 배열 형태 예시

```javascript
this.hogaGrd.setData([[
    461679, 62000, null,      // 상단 최상위 매도 호가
    197778, 61900, 
    108156, 61800, 
    112935, 61700, 
    113625, 61600, 
    333086, 61500, 
    286942, 61400, 
    210827, 61300, 
    253941, 61200, 
    243625, 61100, 
    // null,61050,null,        // 중간가 (옵션)
    null, 61000, 26216,       // 현재가
    60900, 191373,            // 매수 호가 시작
    60800, 48972,
    60700, 72411,
    60600, 101422,
    60500, 108568,
    60400, 146241,
    60300, 277847,
    60200, 230109,
    60100, 205014,
    2322594, null, 1408173     // 총 매도 잔량, 중앙값, 총 매수 잔량
]])
```

#### 구성 설명

```
[매도잔량, 매도호가, null], ... [null, 현재가, 매수잔량], ... [매수호가, 매수잔량] ...
```

| 구분      | 설명                          |
| ------- | --------------------------- |
| 매도 호가   | 상단 → 하단으로 가격 낮아짐            |
| 현재가     | 중앙에 표시                      |
| 매수 호가   | 하단 → 상단으로 가격 높아짐            |
| null 위치 | 가격 칸과 잔량 칸을 구분              |
| 마지막 3칸  | 총 매도 잔량, 기준값(null), 총 매수 잔량 |

***

### 객체 형태로 변경 가능

#### 예시 구조

```javascript
const hogaData = {
    ask: [
        { price: 62000, volume: 461679 },
        { price: 61900, volume: 197778 },
        { price: 61800, volume: 108156 },
        ...
    ],
    bid: [
        { price: 60900, volume: 191373 },
        { price: 60800, volume: 48972 },
        ...
    ],
    currentPrice: 61000,
    basePrice: 60200,
    totalAskVolume: 2322594,
    totalBidVolume: 1408173
};

this.hogaGrd.setData(hogaData);
this.hogaGrd.setBasePrice(60200);
this.hogaGrd.setCurrentPrice(61000);
```

***

### 필수 값 설정

* `setData()`\
  호가 데이터 입력
* `setBasePrice(basePrice)`\
  기준 가격 설정 (예: 전일 종가)
* `setCurrentPrice(price)`\
  현재 거래 가격 설정

***

### Example

```
┌───────────────────────────────┐
│        매도호가 (상단)         │
│-------------------------------│
│   62000 | 461,679              │
│   61900 | 197,778              │
│   61800 | 108,156              │
│-------------------------------│
│        현재가 61000            │
│-------------------------------│
│   60900 | 191,373              │
│   60800 | 48,972               │
│   60700 | 72,411               │
│        매수호가 (하단)         │
└───────────────────────────────┘
```

***

### 데이터 처리 팁

* 중간가가 필요한 경우 배열 안에 `null, 중간가격, null` 형태로 삽입
* 배열과 객체 형태 모두 지원 가능
* UI에서는 상단 매도, 중앙 현재가, 하단 매수로 자동 정렬됨
* WebSocket 데이터 수신 후 가공하여 setData에 바로 넣는 형태로 구현 가능

***

### 오류 처리

* 데이터 포맷이 맞지 않는 경우 그리드가 비워지거나 오류 표시
* 기준 가격(basePrice) 또는 현재가(currentPrice)가 없으면 색상 기준이 정상적으로 동작하지 않을 수 있음
* 주문 단위와 가격 스케일에 따라 자동으로 그리드가 맞춰짐

***

### Lifecycle

1. `setBasePrice()`로 기준 가격 설정
2. `setData()`로 매도/매수 데이터 입력
3. `setCurrentPrice()`로 현재가 표시
4. 실시간 데이터 수신 시 데이터 갱신

